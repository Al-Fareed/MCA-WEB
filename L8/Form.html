<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">
    <title>Registration Form</title>
    <style>
        *{
            box-sizing: border-box;
            border-radius: 3px;
            font-family: Raleway;
            user-select: none;
        }
        body{
            background-color: black;
        }
        #regForm{
            height: 100%;
            /* min-height: 550px; */
            max-height: auto;
            margin: auto auto;
            padding: 50px;
            padding-bottom: 50px;
            background-color: #ffffff;
            width: 70%;
            min-width: 360px;
            border-radius: 15px;
            flex-wrap: wrap;
        }
        input{
            width: 100%;
            padding: 10px;
           border: none;
            background-color: #dedada;
        }
        .validation{
            color: red;
            display: flex;
        }
        .invalid{
            border:2px solid red;
            background-color: rgb(218, 168, 168);
        }
        .valid{
            border:2px solid green;
            background-color: rgb(211, 233, 211);
        }
        .left{
            float: left;
        }
        button{
            background-color: #04AA6D;
            border: none;
            width: 100px;
            float: right;
            padding: 10px;
            color: white;
            margin-top: 10px;
            margin-left: 5px;
        }
        .indicator{
            margin-top: 10px;
            display: flex;  
            justify-content: center; /*centers the item*/
        }
         .step{
            height: 10px;
            width: 10px;
            background-color: gray;     
            border-radius: 50%;  
            display: none;
        } 
        .complete{
            height: 10px;
            width: 10px;
            background-color: green;     
            border-radius: 50%;  
            
        }
        /* Chrome, Safari, Edge, Opera */
        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
         -webkit-appearance: none;
         }

        input[type="checkbox"]{
            /* float: left; */
            width: 10px;
        }
        
        #sxs{
            text-align: center ;
            justify-content: center;
            margin-top:50%
        }
    </style>
</head>
<body>
    <form action="" id="regForm">
        <h1 style="text-align: center;">Register</h1>
        <div class="tab">
            <h3>Accouont setup Details</h3>
           <p> User Name
            <input type="text" placeholder="User123" id="uname" oninput="valiateuname()" autofocus>
            <p id="un" class="validation"></p>
            New Password
            <p>
            <input type="text" placeholder="pass$_12" id="password" oninput="checkPass()" maxlength="7">
            <p id="ps" class=" validation"></p>
            </p>
            <p>Confirm Password
            <input type="text" placeholder="Type again" id="con" oninput="confirmPass()" maxlength="7">
            <p id="cn" class=" validation"> </p>
            </p>
        </div>
        <div class="tab">
            <h3>Personal Details</h3>
            <p>
            First Name
            <input type="text" id="fname" oninput="firstName()" placeholder="First Name">
                <p id="fnamevalid" class=" validation"></p>
        </p>
            <p>
            Last Name
            <input type="text" id="lname" oninput="lastName()" minlength="2" placeholder="Last Name">
            <p id="lnamevalid" class=" validation"></p>
        </p>
        </p > Gender:
            Male   <input type="radio" value="Male" name="gender" style="margin: 0px;width:10px" onclick="gen()">  
            Female <input type="radio" value="Female" name="gender" style="margin: 0px;width:10px" onclick="gen()">
            </p>

            <p>    Nationality:
                <select name="nation" id="inpCode" onchange="cuntCode()" required>
                    <option value="">--Select--</option>
                    <option value="+91">India</option>
                    <option value="+1">USA</option>
                    <option value="+7">Russia</option>
                    <option value="+61">Australia</option>
                </select>
            </p>
            <p>
                Date Of Birth: <input type="date"  id="datepicker" onmousedown="dispDt()">
            </p>
        </div>
        <div class="tab">
            <h3>Contact Details</h3>
            <p>E-mail:
                <input type="text" id="email" oninput="validateEMail()">
                <p id="emailvalid" class=" validation"></p>
            </p>
            <p>Phone:
                <input type="text" id="code" maxlength="2" value="" style="width: 50px;" disabled>
               <input type="number"  id="phone" maxlength="10" style="width: 400px;" inputmode="numeric" oninput="passValue()">
            </p>
            <p>Address:
                <!-- <input type="text" name="" style="height: 90px;" id="addr" oninput="passValue()"> -->
                <textarea name="addr" id="addr" cols="30" rows="5"></textarea>
            </p>
        </div>
        <div class="tab">
            <h3>Social Profiles</h3>
            <p>Twitter
                <input type="text" name="" id="twitter" oninput="passValue()">
            </p>
            <p>
                Facebook:
                <input type="text" name="" id="fb" oninput="passValue()">
            </p>
            <p>
                Google
                <input type="text" name="" id="google" oninput="passValue()">
            </p>
        </div>
        <div class="tab">
            <h3>Acdemic Details</h3>
            <p>UG CGPA: <input type="number" inputmode="numeric" name="" id="ug" oninput="passValue()"></p>
            <p>PG CGPA: <input type="number" inputmode="numeric" name="" id="pg" oninput="passValue()"></p>
            <p>
                <input type="text" placeholder="Project Title1" name="" id="prj1" oninput="passValue()">
                <input type="text" placeholder="About Project1" style="height: 90px;" name="" id="" oninput="passValue()">
            </p>
            <p><input type="text" placeholder="Project Title2" name="" id="prj2" oninput="passValue()">
                <input type="text" style="height: 90px;" placeholder="About Project2" name="" id="" oninput="passValue()">
            </p>
            <p>
                <input type="text" placeholder="Project Title3" name="" id="prj3" oninput="passValue()">
                <input type="text"  style="height: 90px;" placeholder="About Project3" name="" id="" oninput="passValue()">
            </p>
        </div>
        <div class="tab">
            <h3>Preview</h3>
            User Name:<input type="text" id="runame" disabled>
            Full Name:<input type="text" name="rfname" id="rfname" disabled>
            Gender: <input type="text" name="" id="rgender" disabled>
            Nationality: <input type="text" name="" id="rnation" disabled>
            Date Of Birth: <input type="text" name="" id="rdob" disabled>
            E-mail: <input type="text" id="remail" disabled>
            Phone: <input type="text" id="rphone" disabled>
            Address:<input type="text" id="raddr" disabled>
            Twitter: <input type="text" id="rtwitter" disabled>
            Facebook: <input type="text" id="rfb" disabled>
            Google: <input type="text" id="rgoogle" disabled>
            UG-CGPA: <input type="text" id="rug" disabled>
            PG-CGPA:<input type="text" id="rpg" disabled>
            Project 1: <input type="text" id="rprj1" disabled>
            Project 2: <input type="text" id="rprj2"disabled>
            Project 3: <input type="text" id="rprj3" disabled>
        </div>
        <div class="tab  >
            <h3 id="sxs"><center>
                Registration Successfull..
            </center></h3>
        </div>

         <div class="indicator">
            <div class="step"></div>
            <div class="step"></div>
            <div class="step"></div>
            <div class="step"></div>
            <div class="step"></div>
            <div class="step"></div>
            <div class="step"></div>
            <p id="step"></p>
        </div> 
        <div>
            <div style="overflow:auto;">
                <div style="float:right;">
                     <button type="button"  id="Next" onclick="nextPrev(1)">Next</button>
                    <button type="button" id="Previous" onclick="nextPrev(-1)">Previous</button>    
                </div>
            </div>
        </div>
    
    </form>
    <script>
        var currentTab=0;
        showTab(currentTab);
        function showTab(n)
        {
            var t=document.getElementsByClassName("tab");
            console.log(n);
            t[n].style.display="block";
            y=n+1;
            document.getElementById("step").innerText= y +"/7";
            //display button for 1st Tab
            if(n==0)
            {
                document.getElementById("Previous").style.display="none";
                for(var i=n;i<6;i++){
                    t[i+1].style.display="none";
                }
            }
            else
            {
                document.getElementById("Previous").style.display="inline";
            }
            if(n==(t.length-1))
            {
                document.getElementById("Next").innerText="Submit";  
            }//type else 
            else {
            document.getElementById("Next").innerHTML = "Next";
         }
         fixStepIndicator(n);
        }
        //Validatio  for Date
    function dispDt(){
        
        var today=new Date();
        var date=today.getDate();
        var month=today.getMonth()+1;
        var year=today.getFullYear()-2;
        if(date<10)
        {
            date='0'+date;
        }
        if(month<10)
        {
            month='0'+month;
        }
        today=year+'-'+month+'-'+date;
        console.log(today);
        document.getElementById("datepicker").setAttribute("max", today);
        document.addEventListener("click",prevDate);
        
    }
    function prevDate(){
        document.getElementById("rdob").value=document.getElementById("datepicker").value;
    }
       

        function nextPrev(n)
        {
            if(validationForm() || n==-1)
            {  
                var x=document.getElementsByClassName("tab");
                //hides the current tab
                x[currentTab].style.display = "none";
                //Adds or Subtracts the tabs
                currentTab=currentTab+n;
                //When reached at the end of the tab
            if(currentTab>=x.length)
            {
                document.getElementById("regForm").submit();
                return false;}
                showTab(currentTab);
            }
            else
            {
                alert("Please enter the details:");
            }
        }
        function validationForm()
        {
            var tabs,inputEle,i,valid=true;
            tabs=document.getElementsByClassName("tab");
            inputEle=tabs[currentTab].getElementsByTagName("input");
            for (i = 0; i < inputEle.length; i++) 
            {
                if (inputEle[i].value == "") 
                {
                    inputEle[i].className = "invalid";
                    valid=false;
                }
                else
                {
                  inputEle[i].className = "valid";
                  valid=true;
                }
            }
            if (valid)
            {
                document.getElementsByClassName("step")[currentTab].className = "step";
            }
                return valid;
        }

    //set the country code automatically
    function cuntCode(){
        var code=document.getElementById("inpCode").value;
        document.getElementById("code").value=code;
        var choice=parseInt(code);
        switch(choice)
        {
            case 91:document.getElementById("rnation").value="Indian";
                    break;
            case 1:document.getElementById("rnation").value="American";
                     break;
            case 7:document.getElementById("rnation").value="Russian";
                     break;
            case 61:document.getElementById("rnation").value="Australian";
                     break;
        }
    }


    //validate uname
        function valiateuname(){
            var userName=document.getElementById("uname").value;
            var regExp=/^[A-Z]+[A-z]+[0-9]+/;
            if(userName.match(regExp)){
                document.getElementById("un").innerText="";
                uname.className='valid';
                document.getElementById("runame").value=userName;
                //document.getElementById(").value=;
            }else{
                document.getElementById("un").innerText="*Input AlphaNumeric(Capital letter followed by small letters and Numbers)";
                uname.className='invalid';
            }
        }
        //Validate password
        function checkPass(){
            var inputPass=document.getElementById("password").value;
            var passExp=/^(?=.+\d)(?=.+[A-z])(?=.+[$_]).{7,}/;
            if(inputPass.match(passExp)){
                document.getElementById("ps").innerText="";
                password.className='valid';
            }
            else{
                document.getElementById("ps").innerText="*Password must be 7 charcters with 1 Number and special charcters($,_)";
                password.className='invalid';
            }
            
        }
        //Confirmation of password
        function confirmPass(){
            var password=document.getElementById("password").value;
            var conPass=document.getElementById("con").value;
            if(password!==conPass){
                document.getElementById("cn").innerText="*Password doesnot match";
                con.className='invalid';
            }
            else{
                document.getElementById("cn").innerText="";
                con.className='valid';

            }
        }
        //Validation for First Name
        function firstName()
        {
            var inpFname=document.getElementById("fname").value;
            var len=inpFname.length;
            var fnameRegx=/^[A-Z]{1}[a-z]+/;
            if(inpFname.match(fnameRegx)){
            if(len<2)
            {
                document.getElementById("fnamevalid").innerText="*First Name must  start with Caps and atleast two characters";
            }
            else
            {
                document.getElementById("fnamevalid").innerText="";
                lastName(inpFname);
            }
            }
            else
            { 
                document.getElementById("fnamevalid").innerText="*First Name must start with Caps and atleast two characters";
            }
        }
        //Validation for Last Name
        function lastName()
        {
            var fname=document.getElementById("fname").value;
            var inplname=document.getElementById("lname").value;
            var len=inplname.length;
            var fnameRegx=/^[A-Z]{1}[a-z]+/;
            if(inplname.match(fnameRegx)){
            if(len<2)
            {
                document.getElementById("lnamevalid").innerText="*Last Name must  start with Caps and atleast two characters";
            }
            else
            {
                document.getElementById("lnamevalid").innerText="";
                document.getElementById("rfname").value=fname+" "+inplname;
            }
            }
            else
            { 
                document.getElementById("lnamevalid").innerText="*Last Name must start with Caps and atleast two characters";
            }
        }
        function validateEMail()
        {
            var inputEmail=document.getElementById("email").value;
           var emailRegx=/([a-z]+).([a-z]+)(@learner.manipal.edu)$/;
               if(inputEmail.match(emailRegx)){
               document.getElementById("emailvalid").innerText="";
               email.className="valid";
               document.getElementById("remail").value=inputEmail;
           }
           else{
            document.getElementById("emailvalid").innerText="*E-mail must end with @learner.manipal.edu";
               email.className="invalid";
           }
        }
        function passValue()
        {
            //Phone number in preview
            var code=document.getElementById("code").value;
            var phNo=document.getElementById("phone").value;
            var phone=code+phNo;
            document.getElementById("rphone").value=phone;

            //address
            document.getElementById("raddr").value= document.getElementById("addr").value;;

            //twitter
            document.getElementById("rtwitter").value=document.getElementById("twitter").value;

            //fb
            document.getElementById("rfb").value=document.getElementById("fb").value;

            //google
            document.getElementById("rgoogle").value=document.getElementById("google").value;

            document.getElementById("rug").value=document.getElementById("ug").value;

            document.getElementById("rpg").value=document.getElementById("pg").value;

            document.getElementById("rprj1").value=document.getElementById("prj1").value;
            document.getElementById("rprj2").value=document.getElementById("prj2").value;
            document.getElementById("rprj3").value=document.getElementById("prj3").value;
           
        }
      function gen(){
        var ele=document.getElementsByName("gender");
        for (var i=0;i<ele.length;i++)
         {
            if(ele[i].checked){
             document.getElementById("rgender").value= ele[i].value;
            }
        }
      }
</script>
</body>
</html>